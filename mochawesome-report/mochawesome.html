<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:7,&quot;tests&quot;:20,&quot;passes&quot;:16,&quot;pending&quot;:1,&quot;failures&quot;:3,&quot;start&quot;:&quot;2025-05-08T15:53:50.917Z&quot;,&quot;end&quot;:&quot;2025-05-08T15:53:59.153Z&quot;,&quot;duration&quot;:8236,&quot;testsRegistered&quot;:20,&quot;passPercent&quot;:84.21052631578947,&quot;pendingPercent&quot;:5,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;2388d99b-1dd9-408e-9707-125bc3d9f049&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;before all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1389,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n        const db=await mongoose.connect(mongoDBUri)\n        console.log(\&quot;Connected successfully\&quot;)\n    } catch (e) {\n        console.log(\&quot;Error \&quot;, e)\n    }&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a00d086d-1414-44f0-82d6-4bf14a60e193&quot;,&quot;parentUUID&quot;:&quot;2388d99b-1dd9-408e-9707-125bc3d9f049&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;after all\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:351,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// TODO Get All the  Collections\n    const{students,comments,blogposts}=mongoose.connection.collections\n    const student=await mongoose.connection.collections.students.drop();\n    const comment=await mongoose.connection.collections.comments.drop();\n    const blog=await mongoose.connection.collections.blogposts.drop();\n    // const userDeleted=await mongoose.connection.collections.students.drop();\n    // const deletingUser=await User.deleteOne({name:\&quot;Sahan Udara\&quot;})\n    // console.log(\&quot;USER IS DELETED BEFORE TEST SHUT DOWN\&quot;,userDeleted)\n    mongoose.disconnect()&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dcf40cf3-6481-46b1-ab39-d4c30140eaf0&quot;,&quot;parentUUID&quot;:&quot;2388d99b-1dd9-408e-9707-125bc3d9f049&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;851520b2-06a9-4a84-a3f2-4d7cc47b9b56&quot;,&quot;title&quot;:&quot;Associations Tests&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\sahan\\Desktop\\My Programming Notes\\My Projects\\API Projects\\skill-bridge-backend-server\\test\\association_test.js&quot;,&quot;file&quot;:&quot;\\test\\association_test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Associations Tests\&quot;&quot;,&quot;fullTitle&quot;:&quot;Associations Tests \&quot;before each\&quot; hook in \&quot;Associations Tests\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:39,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;//     TODO Need to create User, BlogPost , Comment\n        let student,blogPost,comment\n         student=new  Student({\n            name:\&quot;Max Miller\&quot;,\n            age:27\n        })\n        blogPost=new BlogPost({\n            title:\&quot;Advanced Node\&quot;,\n            content:\&quot;THere are many Advanced Concepts in Node  Like Clustering , Thread Pool \&quot;\n        })\n        comment=new Comment({\n            content:\&quot;Wow i didnt know that \&quot;,\n        })\n        student.blogPosts.push(blogPost)\n        blogPost.comments.push(comment)\n        comment.author=student\n        // await student.save()\n        // await blogPost.save()\n        // await comment.save()\n        Promise.all([student.save(),blogPost.save(),comment.save()]).then((data) =&gt; {\n            // console.log(\&quot;Promise \&quot;,data)\n        }).catch((e)=&gt;{\n            console.log(\&quot;Promise  Error \&quot;,e)\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c32adf8d-76ed-4a3c-9c14-769a6a73acc2&quot;,&quot;parentUUID&quot;:&quot;851520b2-06a9-4a84-a3f2-4d7cc47b9b56&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should &quot;,&quot;fullTitle&quot;:&quot;Associations Tests should &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1349,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const studentFound=await Student.find({name:\&quot;Max Miller\&quot;})\n        // const studentFound=await Student.find({name:\&quot;Alex Mae\&quot;}).populate({\n        //     path:\&quot;blogPosts\&quot;,\n        //     populate:{\n        //         path:\&quot;comments\&quot;,\n        //         populate:{\n        //             path:\&quot;author\&quot;,\n        //         }\n        //     }\n        // })\n        // console.log(\&quot;THIS IS ASSOCAITED USER FOUND \&quot;,studentFound)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b1c94cc-0b3e-4a49-9a3e-356ffe3c01df&quot;,&quot;parentUUID&quot;:&quot;851520b2-06a9-4a84-a3f2-4d7cc47b9b56&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8b1c94cc-0b3e-4a49-9a3e-356ffe3c01df&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1349,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;574e3347-a940-4bcf-bdfa-61752fc9456b&quot;,&quot;title&quot;:&quot;User Creation Testing&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\sahan\\Desktop\\My Programming Notes\\My Projects\\API Projects\\skill-bridge-backend-server\\test\\create_user_test.js&quot;,&quot;file&quot;:&quot;\\test\\create_user_test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create new user&quot;,&quot;fullTitle&quot;:&quot;User Creation Testing should create new user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:161,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const userData={\n            name:\&quot;Sahan Udara\&quot;,\n            age:27\n        }\n        const newUser=await Student.create(userData)\n        const plainObject=await newUser.toObject();\n        // console.log(\&quot;TYPE \&quot;,typeof newUser)\n        expect(plainObject).to.be.an(\&quot;Object\&quot;);\n        expect(newUser).to.have.property(\&quot;name\&quot;);\n        expect(newUser).to.have.property(\&quot;age\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aad5fecc-7b28-41cd-84bb-e741cc57f276&quot;,&quot;parentUUID&quot;:&quot;574e3347-a940-4bcf-bdfa-61752fc9456b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;aad5fecc-7b28-41cd-84bb-e741cc57f276&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:161,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6437aef8-8047-4e1f-847b-e8912511b2fb&quot;,&quot;title&quot;:&quot;Delete Users&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\sahan\\Desktop\\My Programming Notes\\My Projects\\API Projects\\skill-bridge-backend-server\\test\\delete_user.js&quot;,&quot;file&quot;:&quot;\\test\\delete_user.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Delete Users\&quot;&quot;,&quot;fullTitle&quot;:&quot;Delete Users \&quot;before each\&quot; hook in \&quot;Delete Users\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:126,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const userData = {\n    name: \&quot;Emma\&quot;,\n    age: 27\n}\nconst newUser = await Student.create(userData)\n// console.log(\&quot;Created New User\&quot;,newUser)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;01fa45bb-e98c-44a4-8b92-16aa3fe64eba&quot;,&quot;parentUUID&quot;:&quot;6437aef8-8047-4e1f-847b-e8912511b2fb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete user matching filter object using deleteOne() &quot;,&quot;fullTitle&quot;:&quot;Delete Users should delete user matching filter object using deleteOne() &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:209,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const deletedUser = await Student.deleteOne({name: \&quot;Emma\&quot;})\nexpect(deletedUser).to.exist;\nconsole.log(\&quot;RETURN \&quot;,deletedUser);\nconst userFound = await Student.findOne({name: \&quot;Emma\&quot;})\n// console.log(\&quot;USER FOUDN in findOne\&quot;,userFound)\nexpect(userFound).to.be.null&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d7a3d76-ad1d-4b52-bd43-131bb51f6b1f&quot;,&quot;parentUUID&quot;:&quot;6437aef8-8047-4e1f-847b-e8912511b2fb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should delete user matching filter object using findByIdAndDelete &quot;,&quot;fullTitle&quot;:&quot;Delete Users should delete user matching filter object using findByIdAndDelete &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:234,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const userFound = await Student.findOne({name: \&quot;Emma\&quot;})\n        const deletedUser = await Student.findByIdAndDelete(userFound._id.toString())\n        // console.log(\&quot;USER FOUND \&quot;,deletedUser)\n        expect(deletedUser).to.exist;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c888ae7a-dc4c-4fdb-b5e2-a2af7f87d714&quot;,&quot;parentUUID&quot;:&quot;6437aef8-8047-4e1f-847b-e8912511b2fb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should delete user matching filter object using findOneAndDelete &quot;,&quot;fullTitle&quot;:&quot;Delete Users should delete user matching filter object using findOneAndDelete &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:229,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const userFound = await Student.findOne({name: \&quot;Emma\&quot;})\n        // console.log(\&quot;USER FOUND \&quot;,userFound._id.toString())\n        const deletedUser = await Student.findOneAndDelete({name: \&quot;Emma\&quot;})\n        expect(deletedUser).to.exist;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;46b75f00-de3c-4f30-89b5-517ddee0fbc1&quot;,&quot;parentUUID&quot;:&quot;6437aef8-8047-4e1f-847b-e8912511b2fb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1d7a3d76-ad1d-4b52-bd43-131bb51f6b1f&quot;,&quot;c888ae7a-dc4c-4fdb-b5e2-a2af7f87d714&quot;,&quot;46b75f00-de3c-4f30-89b5-517ddee0fbc1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:672,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8ac9b16f-12bf-4634-9e97-fb44d9f17d66&quot;,&quot;title&quot;:&quot;Reading Users&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\sahan\\Desktop\\My Programming Notes\\My Projects\\API Projects\\skill-bridge-backend-server\\test\\read_users_test.js&quot;,&quot;file&quot;:&quot;\\test\\read_users_test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Reading Users\&quot;&quot;,&quot;fullTitle&quot;:&quot;Reading Users \&quot;before each\&quot; hook in \&quot;Reading Users\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:100,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const userData={\n    name:\&quot;James Anderson\&quot;,\n    age:40\n}\nnewUser=await Student.create(userData)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d4056a1f-52af-463d-8b6d-c7f32591f7f2&quot;,&quot;parentUUID&quot;:&quot;8ac9b16f-12bf-4634-9e97-fb44d9f17d66&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should find all users&quot;,&quot;fullTitle&quot;:&quot;Reading Users should find all users&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:133,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;foundUsers=await Student.find()\n        // console.log(\&quot;FOUND USERS \&quot;,foundUsers)\n        expect(foundUsers).to.exist;\n        expect(foundUsers).to.be.an(&#x27;array&#x27;);\n        expect(foundUsers.length).to.be.equal(3)\n        expect(foundUsers[0]).to.have.property(&#x27;name&#x27;);\n        expect(foundUsers[0]).to.have.property(&#x27;age&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected 23 to equal 3&quot;,&quot;estack&quot;:&quot;AssertionError: expected 23 to equal 3\n    at Context.&lt;anonymous&gt; (test\\read_users_test.js:28:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;,&quot;diff&quot;:&quot;- 23\n+ 3\n&quot;},&quot;uuid&quot;:&quot;00455d49-a5c0-4bae-b648-f3de8fbd8313&quot;,&quot;parentUUID&quot;:&quot;8ac9b16f-12bf-4634-9e97-fb44d9f17d66&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should find single user&quot;,&quot;fullTitle&quot;:&quot;Reading Users should find single user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:115,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const foundUser=await Student.findOne({name:\&quot;James Anderson\&quot;})\n        // console.log(\&quot;New USer ID\&quot;,newUser._id);\n        // console.log(\&quot;Found User USer ID\&quot;,foundUser._id);\n        // expect(foundUser._id.toString()).equal(newUser._id.toString());\n        expect(foundUser).to.exist;\n        expect(foundUser).to.be.an(&#x27;object&#x27;);\n        // TODO Property Exists Test\n        expect(foundUser).to.have.property(&#x27;name&#x27;);\n        expect(foundUser).to.have.property(&#x27;age&#x27;);\n        // TODO Property  and value Exists  Test\n        expect(foundUser).to.have.property(&#x27;name&#x27;, &#x27;James Anderson&#x27;);\n        expect(foundUser).to.have.property(&#x27;age&#x27;, 40);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a11f5b29-a3ad-44c7-98d8-b628cd007bcf&quot;,&quot;parentUUID&quot;:&quot;8ac9b16f-12bf-4634-9e97-fb44d9f17d66&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should find a user with particular user id &quot;,&quot;fullTitle&quot;:&quot;Reading Users should find a user with particular user id &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:127,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const userFound=await Student.findById(newUser._id)\n        expect(userFound).to.exist;\n        expect(userFound).to.have.property(\&quot;name\&quot;);\n        expect(userFound).to.have.property(\&quot;age\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0f2dc2e7-061e-4b4b-a8ff-1166b8924538&quot;,&quot;parentUUID&quot;:&quot;8ac9b16f-12bf-4634-9e97-fb44d9f17d66&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a11f5b29-a3ad-44c7-98d8-b628cd007bcf&quot;,&quot;0f2dc2e7-061e-4b4b-a8ff-1166b8924538&quot;],&quot;failures&quot;:[&quot;00455d49-a5c0-4bae-b648-f3de8fbd8313&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:375,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;54b4d086-cf18-4c63-8532-05781967fc36&quot;,&quot;title&quot;:&quot;Student Schema Validation Test&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\sahan\\Desktop\\My Programming Notes\\My Projects\\API Projects\\skill-bridge-backend-server\\test\\student_schema_validation_test.js&quot;,&quot;file&quot;:&quot;\\test\\student_schema_validation_test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should validate fields in Student Schema&quot;,&quot;fullTitle&quot;:&quot;Student Schema Validation Test should validate fields in Student Schema&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const user = new Student({name: undefined})\n        //TODO Do not use create() because it will create and save()\n        // const user = await Student.create({name:undefined})\n        const validationResult = user.validateSync();\n        const {message} = validationResult.errors.name\n        // console.log(\&quot;VALIDATE SYNC \&quot;,message)\n        expect(message).to.equal(&#x27;name is required&#x27;);\n        // TODO we also have validate() difference is that validateSync() is synchronous\n        // const userFound=Student.findOne({name:\&quot;James Anderson\&quot;})&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a8294877-c51b-4613-a9d8-18b78307b326&quot;,&quot;parentUUID&quot;:&quot;54b4d086-cf18-4c63-8532-05781967fc36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should validate with a validation function &quot;,&quot;fullTitle&quot;:&quot;Student Schema Validation Test should validate with a validation function &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// const userFound=Student.findOne({name:\&quot;James Anderson\&quot;})\n        const user = new Student({name: \&quot;Sa\&quot;, age: 30})\n        const validationResult = user.validateSync();\n        const {message} = validationResult.errors.name\n        expect(message).to.equal(&#x27;Name must be longer than 2 Characters&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;89251458-ea0a-486d-a0fc-59c33e1be528&quot;,&quot;parentUUID&quot;:&quot;54b4d086-cf18-4c63-8532-05781967fc36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should disallowed user to save  when user enter invalid data&quot;,&quot;fullTitle&quot;:&quot;Student Schema Validation Test should disallowed user to save  when user enter invalid data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// const userFound=Student.findOne({name:\&quot;James Anderson\&quot;})\n        try {\n            const user = await Student.create({name:\&quot;Sa\&quot;,age:30})\n            const validationResult = user.validateSync();\n            const {message} = validationResult.errors.name\n            expect(message).to.equal(&#x27;Name must be longer than 2 Characters&#x27;);\n        } catch (e) {\n            // const {message}=e.errors.name.properties\n            const {message}=e.errors.name\n            // console.log(\&quot;ERROR OBJECT \&quot;,e)\n            expect(message).to.equal(&#x27;Name must be longer than 2 Characters&#x27;);\n            // console.log(\&quot;Error Sahan\&quot;,e.errors.name.properties.message)\n            // console.log(\&quot;Error \&quot;,e.errors._message)\n        }&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;250ee662-8368-4ecf-add7-ffd30a424bd3&quot;,&quot;parentUUID&quot;:&quot;54b4d086-cf18-4c63-8532-05781967fc36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a8294877-c51b-4613-a9d8-18b78307b326&quot;,&quot;89251458-ea0a-486d-a0fc-59c33e1be528&quot;,&quot;250ee662-8368-4ecf-add7-ffd30a424bd3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;53993826-e545-4031-af6c-da21e4c4a5d6&quot;,&quot;title&quot;:&quot;Sub Document Tests&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\sahan\\Desktop\\My Programming Notes\\My Projects\\API Projects\\skill-bridge-backend-server\\test\\sub_document_test.js&quot;,&quot;file&quot;:&quot;\\test\\sub_document_test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a sub document&quot;,&quot;fullTitle&quot;:&quot;Sub Document Tests should create a sub document&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:161,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;//     TODO create a user with posts\n    const user=await Student.create({\n        name:\&quot;Diana Mae\&quot;,\n        age:27,\n        posts:[\n            {title:\&quot;Flipped\&quot;},\n            {title:\&quot;One Day\&quot;}\n        ]\n    })\n    // console.log(\&quot;User Fro  Sub Document \&quot;,user)\n    expect(user.posts.length).to.be.equal(2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f6fc3591-7d4f-4b2c-a16a-5ff940d40d35&quot;,&quot;parentUUID&quot;:&quot;53993826-e545-4031-af6c-da21e4c4a5d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should able to add sub document to an existing document&quot;,&quot;fullTitle&quot;:&quot;Sub Document Tests should able to add sub document to an existing document&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:274,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;//     TODO create a user with posts\n        const user=await Student.create({\n            name:\&quot;Alex Johnson\&quot;,\n            age:27,\n        })\n        const updatedUser=await Student.findOneAndUpdate({name:\&quot;Alex Johnson\&quot;},{$push:{posts:{title:\&quot;Batman\&quot;}}},{new:true})\n        // console.log(\&quot;User Fro  Sub Document \&quot;,updatedUser)\n        expect(updatedUser.posts.length).to.be.equal(1);\n        expect(updatedUser.posts[0]).to.have.property(&#x27;title&#x27;,&#x27;Batman&#x27;);\n        const foundUser=await Student.findOne({name:\&quot;Alex Johnson\&quot;})\n        if(foundUser){\n            foundUser.posts.push({title:\&quot;Jocker\&quot;})\n            await foundUser.save()\n        }\n        const after=await Student.findOne({name:\&quot;Alex Johnson\&quot;})\n        expect(after.posts.length).to.be.equal(2);\n        expect(after.posts[0]).to.have.property(&#x27;title&#x27;,&#x27;Batman&#x27;);\n        expect(after.posts[1]).to.have.property(&#x27;title&#x27;,&#x27;Jocker&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected 4 to equal 1&quot;,&quot;estack&quot;:&quot;AssertionError: expected 4 to equal 1\n    at Context.&lt;anonymous&gt; (test\\sub_document_test.js:33:48)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;,&quot;diff&quot;:&quot;- 4\n+ 1\n&quot;},&quot;uuid&quot;:&quot;7b444d4c-00ac-4c79-90c9-2ab289b34208&quot;,&quot;parentUUID&quot;:&quot;53993826-e545-4031-af6c-da21e4c4a5d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should able to create and delete a  sub document &quot;,&quot;fullTitle&quot;:&quot;Sub Document Tests should able to create and delete a  sub document &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;pending&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:true,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4ce379eb-c790-459a-b0ad-89a3a00771a8&quot;,&quot;parentUUID&quot;:&quot;53993826-e545-4031-af6c-da21e4c4a5d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should able to check a virtual prop added &quot;,&quot;fullTitle&quot;:&quot;Sub Document Tests should able to check a virtual prop added &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:513,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;//     TODO create a user with posts\n        const user=await Student.create({\n            name:\&quot;Diamond Johnson\&quot;,\n            age:27,\n        })\n        // TODO Add A Sub document\n        const updatedUser=await Student.findByIdAndUpdate(user.id,{$push:{posts:{title:\&quot;Amazing Spiderman\&quot;}}},{new:true})\n        expect(updatedUser.posts.length).to.be.equal(1);\n        expect(updatedUser.posts[0].title).to.be.equal(\&quot;Amazing Spiderman\&quot;);\n        expect(updatedUser.posts[0]).to.have.property(\&quot;title\&quot;,\&quot;Amazing Spiderman\&quot;);\n        expect(updatedUser.postCount).to.be.equal(1,\&quot;We have Virtual Property\&quot;);\n        const foundUser=await Student.findById(updatedUser.id)\n        const postToRemove=foundUser.posts.id(foundUser.posts[0]._id)\n        // foundUser.posts.pull(postToRemove)\n        // await foundUser.save()\n        // TODO Find the User and Remove the SubDocument\n        const userAfterDelete=await Student.findByIdAndUpdate(foundUser.id,{$pull:{posts:{_id:postToRemove}}},{new:true})\n        // console.log(\&quot;Hello Sahan\&quot;,userAfterDelete)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;36b03073-7082-4c2c-98b3-37c1eeab907d&quot;,&quot;parentUUID&quot;:&quot;53993826-e545-4031-af6c-da21e4c4a5d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f6fc3591-7d4f-4b2c-a16a-5ff940d40d35&quot;,&quot;36b03073-7082-4c2c-98b3-37c1eeab907d&quot;],&quot;failures&quot;:[&quot;7b444d4c-00ac-4c79-90c9-2ab289b34208&quot;],&quot;pending&quot;:[&quot;4ce379eb-c790-459a-b0ad-89a3a00771a8&quot;],&quot;skipped&quot;:[],&quot;duration&quot;:948,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;9fa76604-ce73-458e-a817-07b68b4eac11&quot;,&quot;title&quot;:&quot;Update Users&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\sahan\\Desktop\\My Programming Notes\\My Projects\\API Projects\\skill-bridge-backend-server\\test\\update_users_test.js&quot;,&quot;file&quot;:&quot;\\test\\update_users_test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Update Users\&quot;&quot;,&quot;fullTitle&quot;:&quot;Update Users \&quot;before each\&quot; hook in \&quot;Update Users\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:127,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const newUser=await Student.create({name:\&quot;Summer\&quot;,age:28,likes:0})&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b6ac9d15-7bff-4f1a-a45e-f33ada946747&quot;,&quot;parentUUID&quot;:&quot;9fa76604-ce73-458e-a817-07b68b4eac11&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update user name by updateOne&quot;,&quot;fullTitle&quot;:&quot;Update Users should update user name by updateOne&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:116,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const foundUser=await Student.findOne({name:\&quot;Summer\&quot;})\n        expect(foundUser).to.be.exist\n        const updatedUser=await Student.updateOne({name:\&quot;Summer\&quot;},{name:\&quot;Summer Herath\&quot;})\n        const updatedUserResults=await Student.findOne({name:\&quot;Summer Herath\&quot;})\n        expect(updatedUserResults).to.be.exist\n        expect(updatedUserResults).to.have.property(&#x27;name&#x27;);\n        expect(updatedUserResults).to.have.property(&#x27;age&#x27;);\n        expect(updatedUserResults).to.have.property(&#x27;name&#x27;,\&quot;Summer Herath\&quot;);\n        expect(updatedUserResults).not.to.have.property(&#x27;name&#x27;,\&quot;Summer\&quot;);\n        // console.log(\&quot;USER UPDATED \&quot;,updatedUserResults)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected null to exist&quot;,&quot;estack&quot;:&quot;AssertionError: expected null to exist\n    at Context.&lt;anonymous&gt; (test\\update_users_test.js:17:32)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;728114aa-7732-4564-a4ab-87be70166678&quot;,&quot;parentUUID&quot;:&quot;9fa76604-ce73-458e-a817-07b68b4eac11&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should update user name by findOneAndUpdate&quot;,&quot;fullTitle&quot;:&quot;Update Users should update user name by findOneAndUpdate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:341,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const foundUser=await Student.findOne({name:\&quot;Summer\&quot;})\n        expect(foundUser).to.be.exist\n        const updatedUser=await Student.findOneAndUpdate({_id:foundUser.id},{name:\&quot;Summer Herath\&quot;},{new:true})\n        const updatedUserResults=await Student.findOne({name:\&quot;Summer Herath\&quot;})\n        // console.log(\&quot;UPDATED \&quot;,updatedUser)\n        expect(updatedUserResults).to.be.exist\n        expect(updatedUserResults).to.have.property(&#x27;name&#x27;);\n        expect(updatedUserResults).to.have.property(&#x27;age&#x27;);\n        expect(updatedUserResults).to.have.property(&#x27;name&#x27;,\&quot;Summer Herath\&quot;);\n        expect(updatedUserResults).not.to.have.property(&#x27;name&#x27;,\&quot;Summer\&quot;);\n        // console.log(\&quot;USER UPDATED \&quot;,updatedUserResults)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9032549a-df17-4b5a-b925-a4134169684f&quot;,&quot;parentUUID&quot;:&quot;9fa76604-ce73-458e-a817-07b68b4eac11&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should update user name by findByIdAndUpdate&quot;,&quot;fullTitle&quot;:&quot;Update Users should update user name by findByIdAndUpdate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:351,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const foundUser=await Student.findOne({name:\&quot;Summer\&quot;})\n        expect(foundUser).to.be.exist\n        const updatedUser=await Student.findByIdAndUpdate(foundUser.id,{name:\&quot;Summer Herath\&quot;},{new:true})\n        const updatedUserResults=await Student.findOne({name:\&quot;Summer Herath\&quot;})\n        // console.log(\&quot;UPDATED \&quot;,updatedUser._id)\n        // console.log(\&quot;UPDATED \&quot;,foundUser._id)\n        // console.log(\&quot;Are the same  \&quot;,foundUser.id===updatedUser.id)\n        expect(updatedUserResults).to.be.exist\n        expect(updatedUserResults).to.have.property(&#x27;name&#x27;);\n        expect(updatedUserResults).to.have.property(&#x27;age&#x27;);\n        expect(updatedUserResults).to.have.property(&#x27;name&#x27;,\&quot;Summer Herath\&quot;);\n        expect(updatedUserResults).not.to.have.property(&#x27;name&#x27;,\&quot;Summer\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9482bd9f-d3bc-41f7-bd0b-ee6c0d9f9fee&quot;,&quot;parentUUID&quot;:&quot;9fa76604-ce73-458e-a817-07b68b4eac11&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should update user name by update&quot;,&quot;fullTitle&quot;:&quot;Update Users should update user name by update&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:354,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const foundUser=await Student.findOne({name:\&quot;Summer\&quot;})\n        expect(foundUser).to.be.exist\n        const updatedUser=await Student.updateOne({name:foundUser.name},{$inc:{age:1}},{new:true})\n        const updatedUserResults=await Student.findOne({name:\&quot;Summer Herath\&quot;})\n        expect(updatedUserResults).to.be.exist\n        expect(updatedUserResults).to.have.property(&#x27;name&#x27;);\n        expect(updatedUserResults).to.have.property(&#x27;age&#x27;);\n        expect(updatedUserResults).to.have.property(&#x27;name&#x27;,\&quot;Summer Herath\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;620988e7-f5d7-4c45-aade-2733fc068788&quot;,&quot;parentUUID&quot;:&quot;9fa76604-ce73-458e-a817-07b68b4eac11&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should increase Increment By 5  &quot;,&quot;fullTitle&quot;:&quot;Update Users Should increase Increment By 5  &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:362,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const foundUser=await Student.findOne({name:\&quot;Summer\&quot;})\n        expect(foundUser).to.be.exist\n        const updatedUser=await Student.updateOne({name:foundUser.name},{$inc:{age:1,likes:5}},{new:true})\n        const updatedUserResults=await Student.findOne({name:\&quot;Summer\&quot;})\n        // console.log(\&quot;SUMER IS FOUND AfTER LIESK INCREMENT  \&quot;,updatedUserResults)\n        expect(updatedUserResults).to.be.exist\n        expect(updatedUserResults).to.have.property(&#x27;name&#x27;);\n        expect(updatedUserResults).to.have.property(&#x27;age&#x27;);\n        expect(updatedUserResults).to.have.property(&#x27;name&#x27;,\&quot;Summer\&quot;);\n        expect(updatedUserResults).to.have.property(&#x27;likes&#x27;,5);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;65bd8a85-860d-416d-8542-36624899df64&quot;,&quot;parentUUID&quot;:&quot;9fa76604-ce73-458e-a817-07b68b4eac11&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9032549a-df17-4b5a-b925-a4134169684f&quot;,&quot;9482bd9f-d3bc-41f7-bd0b-ee6c0d9f9fee&quot;,&quot;620988e7-f5d7-4c45-aade-2733fc068788&quot;,&quot;65bd8a85-860d-416d-8542-36624899df64&quot;],&quot;failures&quot;:[&quot;728114aa-7732-4564-a4ab-87be70166678&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1524,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;11.1.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;skill-bridge-backend-server&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\sahan\\Desktop\\My Programming Notes\\My Projects\\API Projects\\skill-bridge-backend-server\\mochawesome-report\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\sahan\\Desktop\\My Programming Notes\\My Projects\\API Projects\\skill-bridge-backend-server\\mochawesome-report\\mochawesome.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>